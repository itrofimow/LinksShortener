<!--The content below is only a placeholder and can be replaced.-->
<div class="main-container centered">
  <div style="text-align:center">
    <span class="default-color">
      {{ title }}
    </span>
  </div>

  <div class="centered" style="margin-top: 70px; text-align: center; width: 528px;">
    <div [hidden]="isInitialHidden()">
      <img width="118px" height="123px" src="assets/thonking.png">

      <h1 class="default-H-color">Сокращатор</h1>

      <div>
        <span class="default-color">
            Я могу сократить любую ссылку. 
            Ты мне ссылку, я тебе сокращенную. 
            Более того, я запоминаю все сокращенные ссылки и считаю просмотры, смотри ниже, братишка.
        </span>
      </div>
      
      <div style="margin-top: 40px">
          <div style="display: inline-block">
          <input class="default-color" [(ngModel)]="destinationUrl" placeholder="Введи ссылку"
            (keyup.enter)="onLinksFormSubmit()"
            style="height: 52px; width: 349px; padding-left: 16px; padding-right: 7px;
            border: 1px solid rgb(185, 185, 185); 
            border-top-left-radius: 4px; border-bottom-left-radius: 4px;">
          </div>
          <div class="nice-button to-left"  (click)="onLinksFormSubmit()"
            style="width: 148px; margin-left: 2px; 
            border-top-right-radius: 4px; border-bottom-right-radius: 4px;">
            <span style="color: white">
              <strong>Сократить</strong>
            </span>
          </div>
      </div>
    </div>

    <div [hidden]="isSuccessHidden()">
      <img width="118px" height="123px" src="assets/ok_hand.png">

      <h1 class="default-H-color">Сократил!</h1>

      <div>
        <span class="default-color">
          Можешь скопировать ссылочку и отправить друзьям, а можешь сократить еще парочку.
        </span>
      </div>

      <div style="margin-top: 40px">
        <div style="display: inline-block; height: 54px; line-height: 54px; text-align: left; 
        width: 276px; padding-left: 16px; padding-right: 7px;
        border: 1px solid rgb(185, 185, 185); 
        border-top-left-radius: 4px; border-bottom-left-radius: 4px;">
        <span class="default-blue">
          <a href="{{ buildLink(shortenedUrl) }}" target="_newtab" style="color: inherit">
          {{ buildLink(shortenedUrl) }}
          </a>
        </span>
        </div>
        <div class="nice-button to-left"  (click)="copyShortenedToClipboard()"
          style="width: 225px; margin-left: 2px; 
          border-top-right-radius: 4px; border-bottom-right-radius: 4px;">
          <span style="color: white">
            <strong>Скопировать ссылку</strong>
          </span>
        </div>
      </div>

      <div style="margin-top: 24px; cursor: pointer;" (click)="goToInitial()">
        <div style="display: inline-block;">
          <img src="assets/renew.png" style="width: 24px; height: 24px; vertical-align: middle">
          <div style="display: inline-block; height: 24px; line-height: 24px; 
            text-align: center; margin-left: 8px">
            <span class="default-blue">Сократить еще одну ссылочку</span>
          </div>
        </div>
      </div>
    </div>

    <div [hidden]="isErrorHidden()">
      <img width="118px" height="123px" src="assets/error.png">

      <h1 class="default-H-color">Ошибка</h1>

      <div>
        <span class="default-color">
          Кажется ты попытался сократить ссылку, 
          но ввел ее<br> в неправильном формате. <br>Или что-то пошло не так.
        </span>
      </div>

      <div style="margin-top: 40px">
          <div style="display: inline-block">
          <input class="default-color" [(ngModel)]="destinationUrl"
            (keyup.enter)="onLinksFormSubmit()"
            style="height: 50px; width: 349px; padding-left: 16px; padding-right: 7px;
            border: 2px solid rgb(212, 69, 69); 
            border-top-left-radius: 4px; border-bottom-left-radius: 4px;">
          </div>
          <div class="nice-button to-left"  (click)="onLinksFormSubmit()"
            style="width: 148px; margin-left: 2px; 
            border-top-right-radius: 4px; border-bottom-right-radius: 4px;">
            <span style="color: white">
              <strong>Сократить</strong>
            </span>
          </div>
      </div>
    </div>
  </div>

  <div style="margin-top: 56px">
    <hr style="color: rgb(216, 216, 216)">
  </div>

  <div [hidden]="isChangingLogin"
    class="centered" style="margin-top: 39px; text-align: center">
    <div style="display: inline-block">
      <span class="default-color">Я запомнил тебя как {{ login }}.</span>
    </div>
    <div style="cursor: pointer; display: inline-block; white-space: pre"
      (click)="setLoginChanging()">
      <span class="default-blue"> Сменить юзера</span>
    </div>
  </div>

  <div [hidden]="!isChangingLogin" 
    class="centered" style="margin-top: 23px; text-align: center">
    <div style="display: inline-block">
    <input class="default-color" [(ngModel)]="newLogin" placeholder="Введи логин"
      (keyup.enter)=setLogin()
      (keyup.esc)="unsetLoginChanging()"
      style="height: 53px; width: 357px; padding-left: 16px; padding-right: 7px;
      border: 1px solid rgb(185, 185, 185); 
      border-top-left-radius: 4px; border-bottom-left-radius: 4px;">
    </div>
    <div class="nice-button to-left"  (click)="setLogin()"
      style="width: 140px; margin-left: 2px; 
      border-top-right-radius: 4px; border-bottom-right-radius: 4px;">
      <span style="color: white">
        <strong>Погнали!</strong>
      </span>
    </div>
    <div style="margin-top: 16px; cursor: pointer;" (click)="unsetLoginChanging()">
      <span class="default-blue">
        Продолжить как {{login}}
      </span>
    </div>
  </div>

  <div [hidden]="isChangingLogin || myLinks.length == 0"
    class="centered" style="margin-top: 36px;">
    <table style="table-layout: fixed; text-align: left">
      <tr class="default-color" style="font-size: 11px">
        <td>ДАТА</td>
        <td>ОРИГИНАЛ</td>
        <td>СОКРАЩЕННАЯ</td>
        <td>COPY</td>
        <td>ПРОСМОТРОВ</td>
      </tr>
      <tr class="default-H-color" *ngFor="let link of getMyLinksSorted(); let i = index"
        style="white-space: nowrap; overflow: hidden">
        <td>{{ parseDate(link.createdAt) }}</td>
        <td style="max-width: 30%">{{ link.destination }}</td>
        <td>{{ buildLink(link.url) }}</td>
        <td style="cursor: pointer" (click)="copyToClipboard(buildLink(link.url))">
          <img style="width: 24px; height: 24px" src="assets/copy.png">
        </td>
        <td>
          <div style="display: inline-block;" class="default-color">
            <img style="width: 24px; height: 24px; vertical-align: middle;" src="assets/eye_opened.png">
            {{ link.hits }}
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>

<router-outlet></router-outlet>
